(function(t,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(t=typeof globalThis<"u"?globalThis:t||self,t.LaziBoi=i())})(this,function(){"use strict";class t{constructor(s,e){this.currentScrollY=window.scrollY,this.previousScrollY=this.currentScrollY,this.velocity=0,this.element=s,this.multiplier=e.multiplier?e.multiplier:1,this.minVelocity=e.min?e.min:-100,this.maxVelocity=e.max?e.max:100,this.dampening=e.dampening?e.dampening:.25,this.restrictToViewport=this.restrictToViewport?this.restrictToViewport:!0,this.respectReducedMotion=e.respectReducedMotion?e.respectReducedMotion:!0,this.prefer3dTransforms=e.prefer3dTransforms?e.prefer3dTransforms:!0,this.onScreen=!1,this.paused=!1,window.requestAnimationFrame(()=>{this.tick()}),window.addEventListener("scroll",()=>{this.currentScrollY=window.scrollY}),this.restrictToViewport?new IntersectionObserver(r=>{this.onScreen=r[0].isIntersecting},{root:document,rootMargin:`${this.element.offsetHeight*2}px`,threshold:0}).observe(this.element):this.onScreen=!0,this.element.style.transition=`transform ${this.dampening}s ease-out`,this.element.style.willChange="transform",this.setStyles(),this.respectReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&this.disable()}clampVelocity(s,e,r){return Math.min(Math.max(s,e),r)}setStyles(){this.prefer3dTransforms?this.element.style.transform=`translate3d(0, ${this.velocity}px, 0)`:this.element.style.transform=`translateY(${this.velocity}px)`}disable(){this.paused=!0,this.velocity=0,this.setStyles()}enable(){this.paused=!1}tick(){this.onScreen&&!this.paused&&(this.velocity=this.clampVelocity((this.currentScrollY-this.previousScrollY)*this.multiplier,this.minVelocity,this.maxVelocity),this.previousScrollY=this.currentScrollY,this.setStyles()),window.requestAnimationFrame(()=>{this.tick()})}}return t});
