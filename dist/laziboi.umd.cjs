(function(c,o){typeof exports=="object"&&typeof module<"u"?module.exports=o():typeof define=="function"&&define.amd?define(o):(c=typeof globalThis<"u"?globalThis:c||self,c.LaziBoi=o())})(this,function(){"use strict";function c(e,n){e||console.warn("LaziBoi: element is required and can't be found");let f=window.scrollY,s=0,u=r(n.multiplier,1,"multiplier"),p=r(n.min,-100,"minVelocity"),m=r(n.max,100,"maxVelocity"),d=r(n.dampening,.4,"dampening"),t=r(n.restrictToViewport,!0,"restrictToViewport"),w=r(n.respectReducedMotion,!0,"respectReducedMotion"),a=r(n.prefer3dTransforms,!0,"prefer3dTransforms"),y=!1,h=!1;t?new IntersectionObserver(i=>{y=i[0].isIntersecting},{rootMargin:`${window.innerHeight*2}px`,threshold:0}).observe(e):y=!0,e.style.transition=`transform ${d}s ease-out`,e.style.willChange="transform",b(),w&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&g();function r(i,l,x){return typeof i<"u"&&typeof i!=typeof l&&console.warn(`LaziBoi: ${x} received the wrong datatype, should be: ${typeof l}`),typeof i<"u"?i:l}function T(i,l,x){return Math.min(Math.max(i,l),x)}function b(){a?e.style.transform=`translate3d(0, ${s}px, 0)`:e.style.transform=`translateY(${s}px)`}function g(){h=!0,s=0,b()}function M(){h=!1}function V(){g(),o.remove(this)}function $(){y&&!h&&(s=T((window.scrollY-f)*u,p,m),f=window.scrollY,b())}return{disable:g,enable:M,destroy:V,tick:$}}const o=(()=>{const e=[];function n(t,w){const a=new c(t,w);return e.push(a),a}function f(t){e.splice(e.indexOf(t),1)}function s(){return e}function u(){e.forEach(t=>t.disable())}function p(){e.forEach(t=>t.enable())}function m(){for(;e.length;)e[0].destroy()}function d(){window.requestAnimationFrame(()=>{e.forEach(t=>t.tick()),d()})}return d(),{add:n,remove:f,getAll:s,disableAll:u,enableAll:p,destroyAll:m}})();return o});
