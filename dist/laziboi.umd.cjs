(function(c,o){typeof exports=="object"&&typeof module<"u"?module.exports=o():typeof define=="function"&&define.amd?define(o):(c=typeof globalThis<"u"?globalThis:c||self,c.LaziBoi=o())})(this,function(){"use strict";function c(e,n){e||console.warn("LaziBoi: element is required and can't be found");let l=window.scrollY,s=0,u=r(n.multiplier,1,"multiplier"),p=r(n.min,-100,"minVelocity"),m=r(n.max,100,"maxVelocity"),d=r(n.dampening,.25,"dampening"),t=r(n.restrictToViewport,!0,"restrictToViewport"),y=r(n.respectReducedMotion,!0,"respectReducedMotion"),a=r(n.prefer3dTransforms,!0,"prefer3dTransforms"),h=!1,w=!1;t?new IntersectionObserver(i=>{h=i[0].isIntersecting},{rootMargin:`${e.offsetHeight}px`,threshold:0}).observe(e):h=!0,e.style.transition=`transform ${d}s ease-out`,e.style.willChange="transform",b(),y&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&g();function r(i,f,x){return typeof i<"u"&&typeof i!=typeof f&&console.warn(`LaziBoi: ${x} received the wrong datatype, should be: ${typeof f}`),typeof i<"u"?i:f}function T(i,f,x){return Math.min(Math.max(i,f),x)}function b(){a?e.style.transform=`translate3d(0, ${s}px, 0)`:e.style.transform=`translateY(${s}px)`}function g(){w=!0,s=0,b()}function M(){w=!1}function V(){g(),o.remove(this)}function $(){h&&!w&&(s=T((window.scrollY-l)*u,p,m),l=window.scrollY,b())}return{disable:g,enable:M,destroy:V,tick:$}}const o=(()=>{const e=[];function n(t,y){const a=new c(t,y);return e.push(a),a}function l(t){e.splice(e.indexOf(t),1)}function s(){return e}function u(){e.forEach(t=>t.disable())}function p(){e.forEach(t=>t.enable())}function m(){for(;e.length;)e[0].destroy()}function d(){window.requestAnimationFrame(()=>{e.forEach(t=>t.tick()),d()})}return d(),{add:n,remove:l,getAll:s,disableAll:u,enableAll:p,destroyAll:m}})();return o});
